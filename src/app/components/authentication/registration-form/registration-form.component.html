<app-authentication-page>

  <form novalidate
        #registerForm="ngForm"
        (submit)="doRegister()">

    <p *ngIf="error">An unexpected error occured please contact one of the developers.</p>

    <md-input-container>
      <input mdInput
             class="login__input"
             name="handle"
             placeholder="Github handle"
             required
             [(ngModel)]="registrationModel.handle"
             #handle="ngModel">
      <md-hint [hidden]="handle.valid || handle.pristine"
               class="hint red">
        Handle is required.
      </md-hint>
    </md-input-container>

    <md-input-container>
      <input mdInput
             class="login__input"
             name="password"
             placeholder="Password"
             required
             minlength="6"
             [(ngModel)]="registrationModel.password"
             #password="ngModel"
             type="password">
      <md-hint [hidden]="password.valid || password.pristine"
               class="hint red">
        Your password must be at least 6 characters long.
      </md-hint>
    </md-input-container>

    <md-input-container>
      <input mdInput
             class="login__input"
             name="passwordCheck"
             placeholder="Please type password again"
             required
             [(ngModel)]="registrationModel.passwordCheck"
             #passwordCheck="ngModel"
             type="password">
      <md-hint [hidden]="
            (passwordCheck.valid && passwordsMatch()) 
            || passwordCheck.pristine"
               class="hint red">
        Password does not match the previous entry.
      </md-hint>
    </md-input-container>

    <div class="button-container">

      <button [disabled]="!registerForm.valid || registerForm.pristine || !passwordsMatch()"
              class="login__btn login__btn--full"
              md-raised-button="primary">Register
      </button>

      <a md-button
         routerLink="/login">
        Login
      </a>
    </div>

  </form>

</app-authentication-page>
